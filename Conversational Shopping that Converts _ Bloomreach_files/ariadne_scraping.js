(function(k){const x="cc-name card-name cardholder-name cardholder cc-number cc-num card-number card-num number cc-no card-no credit-card numero-carte carte carte-credit num-carte cb-num cc-exp card-exp cc-expiration card-expiration cc-ex card-ex card-expire card-expiry validite expiration expiry mm-yy mm-yyyy yy-mm yyyy-mm expiration-date payment-card-expiration payment-cc-date exp-month cc-exp-month cc-month card-month cc-mo card-mo exp-mo card-exp-mo cc-exp-mo card-expiration-month expiration-month cc-mm cc-m card-mm card-m card-exp-mm cc-exp-mm exp-mm exp-m expire-month expire-mo expiry-month expiry-mo card-expire-month card-expire-mo card-expiry-month card-expiry-mo mois-validite mois-expiration m-validite m-expiration expiry-date-field-month expiration-date-month expiration-date-mm exp-mon validity-mo exp-date-mo cb-date-mois date-m exp-year cc-exp-year cc-year card-year cc-yr card-yr exp-yr card-exp-yr cc-exp-yr card-expiration-year expiration-year cc-yy cc-y card-yy card-y card-exp-yy cc-exp-yy exp-yy exp-y cc-yyyy card-yyyy card-exp-yyyy cc-exp-yyyy expire-year expire-yr expiry-year expiry-yr card-expire-year card-expire-yr card-expiry-year card-expiry-yr an-validite an-expiration annee-validite annee-expiration expiry-date-field-year expiration-date-year cb-date-ann expiration-date-yy expiration-date-yyyy validity-year exp-date-year date-y cvv cvc cvv2 cc-csc cc-cvv card-csc card-cvv cvd cid cvc2 cnv cvn2 cc-code card-code code-securite security-code crypto card-verif verification-code csc ccv cc-type card-type card-brand cc-brand cb-type".split(" ");
if(!window.isAvAriadneDefined){window.isAvAriadneDefined=!0;const y=function(a){return function(b,c){a.call(b,c,b)}}(Array.prototype.forEach||function(a,b){for(let c=0;c<this.length;c++)a.apply(b,[this[c],c,this])});function p(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Arguments]"===a}function u(){const a=new URLSearchParams(window.location.search);a.has("avsid")&&localStorage.setItem("avsid",a.get("avsid"));a.has("avuid")&&localStorage.setItem("avuid",a.get("avuid"));
return{avuid:a.get("avuid")||localStorage.getItem("avuid"),avsid:a.get("avsid")||localStorage.getItem("avsid")}}var q=k.avPool&&k.avPool[0]&&k.avPool.shift()||{};const f={id:(q.id||"AP-0").toUpperCase(),externalId:q.externalId||(new Date).getTime(),trackDomainRetrieveUrl:k.avURL+"/rest/ariadne/v1/domain",isScrapingEnabledEndpoint:k.avURL+"/rest/ariadne/v2/is-scraping-enabled",trackPath:"/external-event",trackDomain:void 0,properties:"id ids event start selector eventType".split(" "),idsForConversionTracking:new Set},
z=a=>a.getAttributeNames().some(b=>{const c=a.getAttribute(b);return x.some(e=>c.includes(e))}),r=(a,b)=>{let c=JSON.parse(localStorage.getItem("appvizer_data"))||{};const e=a.getAttributeNames().reduce((d,g)=>({...d,[g]:a.getAttribute(g)}),{});let h=null;e.id?.length?h={name:"id",value:e.id}:e.name?.length&&(h={name:"name",value:e.name});let l=null;h&&c&&([l]=Object.entries(c).find(([,d])=>d.attributes[h.name]===h.value)||[void 0]);c[l||b]={attributes:e,value:a.value};localStorage.setItem("appvizer_data",
JSON.stringify(c))},A=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)),v=a=>{const b=A();r(a,b);a.addEventListener("change",c=>r(a,b));a.addEventListener("keyup",c=>r(a,b));a.addEventListener("paste",c=>r(a,b))},w=a=>{(new MutationObserver(b=>{b.forEach(c=>{c&&c.addedNodes&&c.addedNodes.length&&c.addedNodes.forEach(e=>{"INPUT"!==e.nodeName&&"SELECT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||v(e);e.childNodes?.length&&
(e=e.querySelectorAll("input, select, textarea"),t(e))})})})).observe(a,{attributes:!1,childList:!0,subtree:!0})},t=a=>{a?.length&&a.forEach(b=>{"password"===b?.type||z(b)||v(b)})};q=document.querySelectorAll("input, select, textarea");t(q);w(document.body);document.querySelectorAll("iframe").forEach(a=>{a.contentDocument&&(t(a.contentDocument.querySelectorAll("input, select, textarea")),w(a.contentDocument.body))});function B(){let a;try{a={timestamp:new Date},window&&(a={...a,width:window.innerWidth,
height:window.innerHeight,url:window.location.href}),documents&&document.timeline&&(a={...a,pageDuration:document.timeline.currentTime})}finally{return a}}function m(){var a=B();let b={id:f.id,externalId:f.externalId,metadata:a};a&&(b.metadata=a);for(a=Array.prototype.slice.call(arguments);a.length;){const d=a.shift();p(d)?a=a.concat(Array.prototype.slice.call(d)):"string"===typeof d?b.event=d:d&&"object"===typeof d&&y(f.properties,function(g){d.hasOwnProperty(g)&&(b[g]=d[g])})}const c=new Set;p(b.ids)?
b.ids.forEach(d=>c.add(d)):b.ids&&c.add(b.ids);p(b.id)?b.id.forEach(d=>c.add(d)):b.id&&"AP-0"!==b.id&&c.add(b.id);if(1===c.size)b.id=[...c][0];else if(1<c.size){c.forEach(d=>{const g=[...arguments];g[1].ids=void 0;g[1].id=d;m(...g)});return}if("conversion-setup"===b.event)return C(b);try{if("conversion"==b.event||"visit"==b.event||"init"==b.event){a=d=>{d()};if("conversion"==b.event){f.idsForConversionTracking.delete(b.id);const d=JSON.parse(localStorage.getItem("appvizer_data"))||{};b.data=Object.keys(d).map(g=>
d[g]);if("AP-0"==f.id||b.id?.length&&b.id!=f.id)a=g=>{if(!b.id?.length||"AP-0"==b.id)return delete b.data,g();const n=new XMLHttpRequest;n.open("GET",`${f.isScrapingEnabledEndpoint}/${b.id}`,!0);n.withCredentials=!0;n.onreadystatechange=function(){4===n.readyState&&(n.responseText!=(!0).toString()&&delete b.data,g())};n.send(null)};f.idsForConversionTracking.size||localStorage.removeItem("appvizer_data")}var {avuid:e,avsid:h}=u(),l=new URL(f.trackDomain+f.trackPath);e&&l.searchParams.append("avuid",
e);h&&l.searchParams.append("avsid",h);a(()=>{const d=new XMLHttpRequest;d.open("POST",l,!0);d.setRequestHeader("Content-type","application/json");d.withCredentials=!0;d.send(JSON.stringify(b))})}}catch(d){console.error(d)}}function C(a){if(a.selector){var b=document.querySelector(a.selector);if(b){var c={form:"submit",button:"click",input:"click"},e=b.tagName.toLowerCase(),h=a.id||f.id;f.idsForConversionTracking.add(h);b.addEventListener(a.eventType||c[e],()=>m("conversion",{id:h}))}else console.error(`No element found for selector: ${a.selector}`)}else console.error("Trying to setup conversion tracking but no selector was given")}
u();try{const a=new XMLHttpRequest;a.open("GET",f.trackDomainRetrieveUrl,!0);a.setRequestHeader("Content-type","application/json");a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){f.trackDomain=a.responseText;m("init",f);let b=k.avPool;for(;b&&b.length;){const c=b.shift();p(c)?m(...c):m(c)}delete k.avPool;k.av=m}};a.send(null)}catch(a){console.error(a)}}})(this);
