const lunioDeploymentEnv="prod",lunioHostname=`${lunioDeploymentEnv}.mplat-ppcprotect.com`;var LunioClientData=class{constructor(){this.url=window.location.href,this.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoxNjYzNH0.mvQqRtt2qOLW9Uw-yRCQlWlUusakVFq4Kr0R6OJdls4",this.historyLength=window.history.length,this.cookieEnabled=navigator.cookieEnabled,this.platform=navigator.platform,this.browserLanguage=navigator.language,this.devicePixelRatio=window.devicePixelRatio,this.screenHeight=screen.height,this.screenWidth=screen.width,this.viewportWidth=window.innerWidth,this.viewportHeight=window.innerHeight}get_adclick_data(){return{href:this.url,token:this.token,historyLength:this.historyLength,cookieEnabled:this.cookieEnabled,platform:this.platform,browserLanguage:this.browserLanguage,devicePixelRatio:this.devicePixelRatio,screenHeight:this.screenHeight,screenWidth:this.screenWidth,viewportWidth:this.viewportWidth,viewportHeight:this.viewportHeight}}get_click_data(){return{href:this.url,token:this.token,client_id:0}}};const lunioPlatformWrapperCheck=(t,a)=>{const c=[3,6,9,15,25,42,60][Symbol.iterator](),i=()=>{if(t())a();else{const r=c.next().value;r&&setTimeout(i,r*1e3)}};i()},lunio_is_ad_click=t=>{const a=["ppcp_platform=","utm_source=","gclid=","wbraid=","gbraid=","gclsrc=","csrf=","dclid=","fbclid=","twclid=","li_fat_id=","epik=","msclkid=","rdt_cid=","ttclid=","ob_click_id=","NaPm=","bd_vid=","yclid=","criteo="];let e=t.toLowerCase();for(const c of a)if(e.search(c)!==-1)return e.search("ppcp_platform=organic")===-1;return!1},lunio_is_ad_click_v2=t=>{const e=["cpc","ppc","paid","cpm","display","pmax"],c=[{name:"google",ppcp_platform:"google",utm_source:["google","adwords"],utm_medium:e,special:[["gclid","*"]]},{name:"meta",ppcp_platform:"meta",utm_source:["facebook","fb","meta","ig","instagram","an","msg"],utm_medium:e,special:[]},{name:"meta",ppcp_platform:"facebook",utm_source:["facebook","fb","meta","ig","instagram","an","msg"],utm_medium:e,special:[]},{name:"twitter",ppcp_platform:"twitter",utm_source:["twitter"],utm_medium:e,special:[["twclid","*"]]},{name:"pinterest",ppcp_platform:"pinterest",utm_source:["pinterest"],utm_medium:e,special:[]},{name:"linkedin",ppcp_platform:"linkedin",utm_source:["linkedin"],utm_medium:e,special:[]},{name:"outbrain",ppcp_platform:"outbrain",utm_source:["outbrain"],utm_medium:["*"],special:[["ob_click_id","*"]]},{name:"youtube",ppcp_platform:"youtube",utm_source:["youtube"],utm_medium:e,special:[["gclid","*"]]},{name:"tiktok",ppcp_platform:"tiktok",utm_source:["tiktok","tt"],utm_medium:e,special:[]},{name:"baidu",ppcp_platform:"baidu",utm_source:["baidu"],utm_medium:e,special:[]},{name:"reddit",ppcp_platform:"reddit",utm_source:["reddit"],utm_medium:e,special:[]},{name:"adroll",ppcp_platform:"adroll",utm_source:["adroll"],utm_medium:e,special:[]},{name:"naver",ppcp_platform:"naver",utm_source:["naver"],utm_medium:e,special:[]},{name:"bing",ppcp_platform:"bing",utm_source:["bing","ms","microsoft"],utm_medium:e,special:[["msclkid","*"]]},{name:"yahoo_japan",ppcp_platform:"yj",utm_source:["yj","yahoo"],utm_medium:e,special:[]},{name:"dv360",ppcp_platform:"dv360",utm_source:["dv","dv360","preroll","display","seenthis"],utm_medium:["*"],special:[["dclid","*"]]},{name:"taboola",ppcp_platform:"taboola",utm_source:["taboola"],utm_medium:["*"],special:[]}];let i=new URLSearchParams(t.toLowerCase()),r=!1,n=!1,o="";for(const l of c){if(i.get("ppcp_platform")===l.ppcp_platform){n=!0,o=l.name;break}for(const[s,m]of l.special)if(m==="*"&&i.has(s)||i.get(s)===m){r=!0,o=l.name;break}}if(n||r)return[!0,o];if(i.has("utm_source")&&i.has("utm_medium")){let l=!1,s=i.get("utm_source"),m=i.get("utm_medium");for(const u of c){let d=!1,_=!1;for(const p of u.utm_source)if(p==="*"||s.indexOf(p)>=0){d=!0;break}for(const p of u.utm_medium)if(p==="*"||m.indexOf(p)>=0){_=!0;break}if(d&&_){l=!0,o=u.name;break}}if(l)return[!0,o]}return[!1,o]},lunio_pn="lpn",lunio_pn_plat="plat";async function js_cloud_adclick(t,a){let[e,c]=a,i={};i.client_data=t.get_adclick_data();const r=`https://pclick.${lunioHostname}/recv?${lunio_pn}=${e?"p":"n"}&${lunio_pn_plat}=${c}`;let n=Base64EncodeUrl(JSON.stringify(i));fetch(r,{method:"POST",headers:{"content-type":"application/json"},keepalive:!0,body:n}).then(o=>o.json()).then(o=>{if(o.flag==="set")var l="";if(o.flag==="v")var s=""}).catch(o=>{})}function js_cloud_click(t,a){let[e,c]=a;const i=`https://click.${lunioHostname}/v2/recv`,r=`?${lunio_pn}=${e?"p":"n"}&${lunio_pn_plat}=${c}&data=`+t;fetch(i+r,{}).then(n=>n.json()).then(n=>{}).catch(n=>{})}function Base64EncodeUrl(t){const a=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(e,c)=>String.fromCharCode(parseInt(c,16)));return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function lunioMain(){var t=t||null;t?t.url=window.location.href:t=new LunioClientData;let a=[!1,""];try{a=lunio_is_ad_click_v2(window.location.search)}catch{a=[!1,"err"]}return{adclickV1:()=>lunio_is_ad_click(t.url),adclickV2:()=>a[0]}.adclickV1()?js_cloud_adclick(t,a).catch(c=>{}):js_cloud_click(encodeURIComponent(JSON.stringify(t.get_click_data())),a),0}lunioMain();
